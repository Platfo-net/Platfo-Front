(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{6988:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/postman/groups",function(){return t(3546)}])},1077:function(n,e,t){"use strict";t.d(e,{I:function(){return b}});var r=t(7297),i=t(5893),a=t(8909),s=t(339),o=t(2220),l=t(7294),c=t(2073),u=t(733);function d(){let n=(0,r.Z)(["\n  all: unset;\n  transition: ",";\n  padding-left: ","rem;\n  ","\n  ","\n  ",";\n  color: ",";\n  &::placeholder {\n    color: ",";\n  }\n  ~ svg {\n    padding-left: ","rem;\n    color: ",";\n  }\n  &:focus,\n  &:hover {\n    ","\n    ~ svg {\n      color: ",";\n    }\n  }\n"]);return d=function(){return n},n}function m(){let n=(0,r.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: column;\n  transition: ",";\n  width: ",";\n  span {\n    margin-left: 0.5rem;\n    margin-right: 0.5rem;\n  }\n"]);return m=function(){return n},n}function p(){let n=(0,r.Z)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n"]);return p=function(){return n},n}function f(){let n=(0,r.Z)(["\n  position: absolute;\n  bottom: -20px;\n"]);return f=function(){return n},n}let h={sm:1,md:1.5,lg:2},x=o.Z.input(d(),c.X.transition,n=>{let{icon:e,inputSize:t}=n;return e&&t?h[t]+.2:1},n=>{let{inputSize:e,width:t}=n;return(0,s.ap)(e,t)},n=>{let{variant:e,theme:t,status:r}=n;return(0,s.EC)(r,e,t)},n=>{let{theme:e}=n;return(0,s.Ke)(e.components.shadow1,e.components.shadow2)},n=>{let{theme:e}=n;return e.font.regular},n=>{let{theme:e}=n;return e.font.placeholder},n=>{let{icon:e,inputSize:t}=n;return e&&t?.4:1},n=>{let{theme:e}=n;return e.font.placeholder},n=>{let{variant:e,theme:t,color:r}=n;return(0,s.EC)(r,e,t)},n=>{let{theme:e}=n;return e.components.primary}),g=o.Z.div(m(),c.X.transition,n=>{let{width:e}=n;return e||"100%"}),v=(0,o.Z)(a.J)(p()),j=(0,o.Z)(u.Z.Text)(f()),b=(0,l.forwardRef)((n,e)=>{let{label:t,value:r,type:a,width:s="100%",placeholder:o,feedback:l,icon:c,variant:d="outlined",status:m="default",color:p="primary",size:f="md",className:h="",...b}=n;return(0,i.jsxs)(g,{className:h,children:[(0,i.jsx)(u.Z.Text,{size:f,children:t}),(0,i.jsxs)("div",{className:"flex relative",children:[(0,i.jsx)(x,{ref:e,value:r,placeholder:o,type:a,width:s,variant:d,color:p,status:m,icon:c,inputSize:f,...b}),c&&(0,i.jsx)(v,{name:c,size:"sm"===f?"lg":"2xl"})]}),(0,i.jsx)(j,{size:"sm",color:"default"===m?"regular":m,children:l})]})});b.displayName="Input"},1420:function(n,e,t){"use strict";var r=t(7297),i=t(5893);t(7294);var a=t(2121),s=t(5405),o=t(2220),l=t(733);function c(){let n=(0,r.Z)(["\n  width: auto;\n"]);return c=function(){return n},n}function u(){let n=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin: 8px;\n"]);return u=function(){return n},n}function d(){let n=(0,r.Z)(["\n  display: flex;\n  margin: auto;\n  svg {\n    margin-right: 4px;\n  }\n"]);return d=function(){return n},n}function m(){let n=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 32px;\n  .LoaderBalls {\n    width: 90px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    &__item {\n      width: 20px;\n      height: 20px;\n      border-radius: 50%;\n\n      &:nth-child(1) {\n        animation: bouncing 0.4s alternate infinite\n          cubic-bezier(0.6, 0.05, 0.15, 0.95);\n        background: ",";\n      }\n\n      &:nth-child(2) {\n        animation: bouncing 0.4s 0.1s alternate infinite\n          cubic-bezier(0.6, 0.05, 0.15, 0.95) backwards;\n        background: ",";\n      }\n\n      &:nth-child(3) {\n        animation: bouncing 0.4s 0.2s alternate infinite\n          cubic-bezier(0.6, 0.05, 0.15, 0.95) backwards;\n        background: ",";\n      }\n    }\n  }\n\n  @keyframes bouncing {\n    0% {\n      transform: translate3d(0, 10px, 0) scale(1.2, 0.85);\n    }\n\n    100% {\n      transform: translate3d(0, -20px, 0) scale(0.9, 1.1);\n    }\n  }\n"]);return m=function(){return n},n}let{Text:p}=l.Z,f=(0,o.Z)(a.u)(c()),h=o.Z.div(u()),x=o.Z.div(d()),g=o.Z.div(m(),n=>{let{theme:e}=n;return e.components.secondary},n=>{let{theme:e}=n;return e.components.chatbot},n=>{let{theme:e}=n;return e.components.liveChat}),v=n=>{let{loading:e}=n;return(0,i.jsx)(f,{isVisible:e,width:"auto",children:(0,i.jsxs)(h,{children:[(0,i.jsxs)(x,{children:[(0,i.jsx)(s.T,{size:3}),(0,i.jsx)(p,{weight:"semiBold",size:"6xl",children:"Platfo"})]}),(0,i.jsx)(g,{children:(0,i.jsxs)("div",{className:"LoaderBalls",children:[(0,i.jsx)("div",{className:"LoaderBalls__item"}),(0,i.jsx)("div",{className:"LoaderBalls__item"}),(0,i.jsx)("div",{className:"LoaderBalls__item"})]})})]})})};e.Z=v},484:function(n,e,t){"use strict";var r=t(7297),i=t(5893);t(7294);var a=t(2220),s=t(339),o=t(733),l=t(8909);function c(){let n=(0,r.Z)(["\n  ",";\n  background: transparent;\n  border: ",";\n  box-shadow: none;\n  display: flex;\n  div {\n    display: flex;\n    flex-direction: column;\n    margin: auto;\n    .icon {\n      background: ",";\n      border-radius: 9999px;\n      padding: 16px;\n      margin-bottom: 16px;\n    }\n  }\n  &:hover {\n    border: ",";\n    .icon {\n      background: ",";\n    }\n  }\n"]);return c=function(){return n},n}let u=a.Z.button(c(),n=>{let{width:e,height:t}=n;return(0,s.V_)(e,t)},n=>{let{theme:e}=n;return"3px dashed ".concat(e.components.border)},n=>{let{theme:e}=n;return e.components.border},n=>{let{theme:e,color:t="secondary"}=n;return"3px dashed ".concat(e.components[t])},n=>{let{theme:e,color:t="secondary"}=n;return e.components[t]}),d=n=>{let{title:e,onClick:t,width:r="255px",height:a="255px",color:s="secondary"}=n;return(0,i.jsx)(u,{onClick:t,width:r,height:a,color:s,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"icon",children:(0,i.jsx)(l.J,{name:"Plus"})}),(0,i.jsx)(o.Z.Text,{weight:"semiBold",children:e})]})})};e.Z=d},3546:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return W}});var r=t(5893),i=t(4894),a=t(9294),s=t(9228),o=t(5900),l=t(7294),c=t(733),u=t(1420),d=t(6337),m=t(8742),p=t(7573),f=t(1077),h=t(7536),x=t(4133),g=t(2121),v=t(484),j=t(9620),b=t(7297);let y=()=>{let{current:n}=(0,l.useRef)(Math.random().toString(16).slice(2));return n};var w=t(339),Z=t(2073),_=t(2220),N=t(8909),k=t(917);function C(){let n=(0,b.Z)(["\n      width: 1rem;\n      height: 1rem;\n      border-radius: 0.2rem;\n    "]);return C=function(){return n},n}function z(){let n=(0,b.Z)(["\n      width: 1.5rem;\n      height: 1.5rem;\n      border-radius: 0.3rem;\n    "]);return z=function(){return n},n}function E(){let n=(0,b.Z)(["\n      width: 3rem;\n      height: 3rem;\n      border-radius: 0.6rem;\n    "]);return E=function(){return n},n}function S(){let n=(0,b.Z)([""]);return S=function(){return n},n}function B(){let n=(0,b.Z)(["\n  display: flex;\n  margin-top: auto;\n  & input {\n    display: none;\n  }\n  & input:checked {\n    & ~ label {\n      ","\n      svg {\n        opacity: 1;\n        color: currentColor;\n      }\n    }\n  }\n\n  span {\n    margin: auto 0;\n  }\n"]);return B=function(){return n},n}function T(){let n=(0,b.Z)(["\n  display: inline-flex;\n  user-select: none;\n  cursor: pointer;\n  margin-right: 0.5rem;\n  margin-left: 0.5rem;\n  ","\n  ","\n  ",";\n  svg {\n    opacity: 0;\n    margin: auto;\n    color: currentColor;\n    transition: ",";\n  }\n\n  &:hover {\n    ","\n  }\n"]);return T=function(){return n},n}let q=n=>"sm"===n?(0,k.iv)(C()):"md"===n?(0,k.iv)(z()):"lg"===n?(0,k.iv)(E()):(0,k.iv)(S()),G=_.Z.div(B(),n=>{let{theme:e,color:t}=n;return(0,w.EC)(t,"contained",e)}),L=_.Z.label(T(),n=>{let{size:e}=n;return q(e)},n=>{let{variant:e,theme:t}=n;return(0,w.EC)("default",e,t)},n=>{let{theme:e}=n;return(0,w.Ke)(e.components.shadow1,e.components.shadow2)},Z.X.transition,n=>{let{variant:e,theme:t,color:r}=n;return(0,w.EC)(r,e,t)}),$=(0,l.forwardRef)((n,e)=>{let{label:t,variant:i="outlined",color:a="primary",size:s="md",className:o,onChange:l,...u}=n,d=y();return(0,r.jsxs)(G,{className:o,color:a,variant:i,children:[(0,r.jsx)("input",{ref:e,id:d,type:"checkbox",onChange:l,...u}),(0,r.jsx)(L,{color:a,variant:i,size:s,htmlFor:d,children:(0,r.jsx)(N.J,{name:"Check",size:s})}),(0,r.jsx)(c.Z.Text,{size:s,children:t})]})});function F(){let n=(0,b.Z)(["\n  display: flex;\n  flex-direction: column-reverse;\n  margin-top: auto;\n  & input {\n    display: none;\n  }\n  & input:checked {\n    & ~ label {\n      ","\n      svg {\n        opacity: 1;\n        color: currentColor;\n      }\n    }\n  }\n\n  span {\n    margin: auto 0;\n  }\n"]);return F=function(){return n},n}function I(){let n=(0,b.Z)(["\n  display: inline-flex;\n  user-select: none;\n  cursor: pointer;\n\n  position: absolute;\n  top: 0.3rem;\n  left: 0.3rem;\n  ","\n  ","\n  svg {\n    opacity: 0;\n    margin: auto;\n    color: currentColor;\n    transition: ",";\n  }\n\n  &:hover {\n    ","\n  }\n"]);return I=function(){return n},n}function X(){let n=(0,b.Z)(["\n  header {\n    border-bottom: none !important;\n  }\n"]);return X=function(){return n},n}$.displayName="CheckBox";let A=_.Z.div(F(),n=>{let{theme:e,color:t}=n;return(0,w.EC)(t,"contained",e)}),J=_.Z.label(I(),n=>{let{size:e}=n;return q(e)},n=>{let{variant:e,theme:t}=n;return(0,w.EC)("default",e,t)},Z.X.transition,n=>{let{variant:e,theme:t,color:r}=n;return(0,w.EC)(r,e,t)}),K=(0,_.Z)(s.n)(X()),P=(0,l.forwardRef)((n,e)=>{let{label:t,variant:i="outlined",color:a="primary",size:s="md",avatar:o,className:l,onChange:u,...d}=n,m=y();return(0,r.jsx)(K,{avatar:o,className:"relative",width:"8rem",height:"8rem",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z.Text,{size:"sm",children:t}),(0,r.jsxs)(A,{className:l,color:a,variant:i,children:[(0,r.jsx)("input",{ref:e,id:m,type:"checkbox",onChange:u,...d}),(0,r.jsx)(J,{color:a,variant:i,size:s,htmlFor:m,children:(0,r.jsx)(N.J,{name:"Check",size:s})})]})]})})});P.displayName="AvatarCheckBox";let R=n=>{var e,t,i,a;let{pageId:s,change:c}=n,{register:u,handleSubmit:d,control:m,formState:{errors:b}}=(0,h.cI)({defaultValues:{facebook_page_id:s}}),{t:y}=(0,x.$G)("common"),[w,Z]=(0,l.useState)(!1),[_,N]=(0,l.useState)([]),[k,C]=(0,l.useState)(!1),z=()=>{C(!k)},E=async n=>{try{Z(!0);let e=await j.Z.getContacts(n);N(e.data.items),Z(!1)}catch(t){Z(!1)}},S=async n=>{let e={...n};e.contacts=e.contacts.filter(n=>n);try{Z(!0),await p.Z.postGroup(e),Z(!1),C(!1),await c()}catch(t){Z(!1)}};return(0,l.useEffect)(()=>{(async()=>{k&&await E(s)})()},[k,s]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{title:y("add-new-group"),onClick:z}),(0,r.jsx)("form",{onSubmit:d(S),children:(0,r.jsx)(g.u,{isVisible:k,cancel:z,title:y("add-new-group"),width:"50%",submitType:"submit",isLoading:w,children:(0,r.jsxs)("div",{className:"flex flex-wrap w-full",children:[(0,r.jsx)("div",{className:"basis-1/3 p-2",children:(0,r.jsx)(f.I,{label:y("name"),feedback:null===(e=b.name)||void 0===e?void 0:e.message,color:"postman",status:(null===(t=b.description)||void 0===t?void 0:t.message)?"danger":"default",...u("name",{required:y("error-required-field")})})}),(0,r.jsx)("div",{className:"basis-2/3 p-2",children:(0,r.jsx)(f.I,{label:y("description"),color:"postman",status:(null===(i=b.description)||void 0===i?void 0:i.message)?"danger":"default",feedback:null===(a=b.description)||void 0===a?void 0:a.message,...u("description",{required:y("error-required-field"),minLength:{value:3,message:y("error-min-length")}})})}),(0,r.jsx)("div",{className:"flex flex-wrap mt-4",children:_.map((n,e)=>{let t="contacts[".concat(e,"]");return(0,r.jsx)("fieldset",{className:"m-2",name:t,children:(0,r.jsx)(h.Qr,{control:m,name:"contacts[".concat(e,"]"),render(e){let{field:{onChange:t}}=e;return(0,r.jsx)(P,{color:"postman",label:n.information.name||"",onChange:e=>t(e.currentTarget.checked?{contact_id:n.id,contact_igs_id:n.contact_igs_id}:void 0),avatar:(0,r.jsx)(o.q,{url:n.information.profile_image,size:3.5,type:"image"})})}})},t)})})]})})})]})};function V(){let n=(0,b.Z)(["\n  display: flex;\n  margin-left: -","rem;\n"]);return V=function(){return n},n}function M(){let n=(0,b.Z)(["\n  margin-right: -","rem;\n"]);return M=function(){return n},n}let O=_.Z.ul(V(),n=>{let{size:e=5}=n;return e/2}),Q=_.Z.li(M(),n=>{let{size:e=5}=n;return e/2}),D=n=>{let{data:e,urlKey:t,nameKey:i,size:a=5,count:s,className:l=""}=n;return(0,r.jsxs)(O,{size:a,className:l,children:[e.map(n=>(0,r.jsx)(Q,{size:a,children:(0,r.jsx)(o.q,{size:a,type:"image",url:n[t]})},n[i])),s>3&&(0,r.jsx)(Q,{size:a,children:(0,r.jsx)(o.q,{size:a,type:"text",text:"+3"})})]})},{Text:H}=c.Z,U=()=>{let[n,e]=(0,l.useState)(!1),[t,i]=(0,l.useState)([]),[a,c]=(0,l.useState)([]),[f,h]=(0,l.useState)(),x=async()=>{try{e(!0);let n=await d.Z.getAccounts();if(i(n.data),n.data.length>0)return e(!1),n.data[0];return e(!1),null}catch(t){return e(!1),null}},g=async n=>{try{e(!0);let t=await p.Z.getGroups(n);c(t.data.items),e(!1)}catch(r){e(!1)}},v=async n=>{await g(n.page_id),h(n)},j=async n=>{try{e(!0),await p.Z.deleteGroup(n.id),await x(),e(!1)}catch(t){e(!1)}};return(0,l.useEffect)(()=>{(async()=>{let n=await x();n?(h(n),await g(n.page_id)):c([])})()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{loading:n}),t.length>0&&(0,r.jsx)(s.n,{className:"m-3",width:"auto",children:(0,r.jsx)("div",{className:"flex w-full space-x-4 justify-start overflow-x-auto",children:t.map(n=>(0,r.jsx)(o.q,{url:n.profile_image,type:"image",click:v,data:n,isActive:n.id===(null==f?void 0:f.id),color:"postman",icon:m.t4[n.platform],title:n.username},n.id))})}),(0,r.jsxs)("div",{className:"flex flex-wrap",children:[f&&(0,r.jsx)("div",{className:"basis-1/6 m-3 ",children:(0,r.jsx)(R,{pageId:f.page_id,change:()=>g(f.page_id)})}),null==a?void 0:a.map(n=>(0,r.jsx)("div",{className:"basis-1/6 m-3",children:(0,r.jsx)(s.n,{data:n,avatar:(0,r.jsx)(D,{urlKey:"profile_image",size:5,count:10,data:n.contacts,nameKey:"username",className:"mt-5"}),width:"255px",height:"255px",remove:j,children:(0,r.jsxs)("div",{className:"flex flex-col text-center w-full",children:[(0,r.jsxs)(H,{weight:"semiBold",children:[" ",n.name," "]}),(0,r.jsx)(H,{weight:"light",color:"nonActive",children:n.description})]})})},n.id))]})]})};var W=U;U.getLayout=n=>(0,r.jsx)(i.c,{topMenu:a.fF,meta:{title:"Groups"},color:"postman",children:n})},9620:function(n,e,t){"use strict";var r=t(4029);class i extends r.Z{constructor(){var n;super({suffix:"api/v1/live-chat"}),n=this,this.getContacts=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.$axios.post("contact/all/".concat(e),t)},this.getContact=n=>this.$axios.get("contact/".concat(n))}}let a=new i;e.Z=a},7573:function(n,e,t){"use strict";var r=t(4029);class i extends r.Z{constructor(){super({suffix:"api/v1/postman"}),this.getGroups=(n,e)=>this.$axios.get("group/".concat(n),{params:e}),this.postGroup=n=>this.$axios.post("group",n),this.deleteGroup=n=>this.$axios.delete("group/".concat(n)),this.getCampaigns=(n,e)=>this.$axios.get("campaign/".concat(n),{params:e})}}let a=new i;e.Z=a}},function(n){n.O(0,[32,536,876,380,774,888,179],function(){return n(n.s=6988)}),_N_E=n.O()}]);