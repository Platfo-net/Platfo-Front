(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[617],{2839:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/accounts",function(){return t(7100)}])},1420:function(n,e,t){"use strict";var a=t(7297),i=t(5893);t(7294);var s=t(2121),r=t(5405),c=t(2220),o=t(733);function l(){let n=(0,a.Z)(["\n  width: auto;\n"]);return l=function(){return n},n}function d(){let n=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin: 8px;\n"]);return d=function(){return n},n}function u(){let n=(0,a.Z)(["\n  display: flex;\n  margin: auto;\n  svg {\n    margin-right: 4px;\n  }\n"]);return u=function(){return n},n}function m(){let n=(0,a.Z)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 32px;\n  .LoaderBalls {\n    width: 90px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    &__item {\n      width: 20px;\n      height: 20px;\n      border-radius: 50%;\n\n      &:nth-child(1) {\n        animation: bouncing 0.4s alternate infinite\n          cubic-bezier(0.6, 0.05, 0.15, 0.95);\n        background: ",";\n      }\n\n      &:nth-child(2) {\n        animation: bouncing 0.4s 0.1s alternate infinite\n          cubic-bezier(0.6, 0.05, 0.15, 0.95) backwards;\n        background: ",";\n      }\n\n      &:nth-child(3) {\n        animation: bouncing 0.4s 0.2s alternate infinite\n          cubic-bezier(0.6, 0.05, 0.15, 0.95) backwards;\n        background: ",";\n      }\n    }\n  }\n\n  @keyframes bouncing {\n    0% {\n      transform: translate3d(0, 10px, 0) scale(1.2, 0.85);\n    }\n\n    100% {\n      transform: translate3d(0, -20px, 0) scale(0.9, 1.1);\n    }\n  }\n"]);return m=function(){return n},n}let{Text:h}=o.Z,p=(0,c.Z)(s.u)(l()),x=c.Z.div(d()),f=c.Z.div(u()),g=c.Z.div(m(),n=>{let{theme:e}=n;return e.components.secondary},n=>{let{theme:e}=n;return e.components.chatbot},n=>{let{theme:e}=n;return e.components.liveChat}),b=n=>{let{loading:e}=n;return(0,i.jsx)(p,{isVisible:e,width:"auto",children:(0,i.jsxs)(x,{children:[(0,i.jsxs)(f,{children:[(0,i.jsx)(r.T,{size:3}),(0,i.jsx)(h,{weight:"semiBold",size:"6xl",children:"Platfo"})]}),(0,i.jsx)(g,{children:(0,i.jsxs)("div",{className:"LoaderBalls",children:[(0,i.jsx)("div",{className:"LoaderBalls__item"}),(0,i.jsx)("div",{className:"LoaderBalls__item"}),(0,i.jsx)("div",{className:"LoaderBalls__item"})]})})]})})};e.Z=b},484:function(n,e,t){"use strict";var a=t(7297),i=t(5893);t(7294);var s=t(2220),r=t(339),c=t(733),o=t(8909);function l(){let n=(0,a.Z)(["\n  ",";\n  background: transparent;\n  border: ",";\n  box-shadow: none;\n  display: flex;\n  div {\n    display: flex;\n    flex-direction: column;\n    margin: auto;\n    .icon {\n      background: ",";\n      border-radius: 9999px;\n      padding: 16px;\n      margin-bottom: 16px;\n    }\n  }\n  &:hover {\n    border: ",";\n    .icon {\n      background: ",";\n    }\n  }\n"]);return l=function(){return n},n}let d=s.Z.button(l(),n=>{let{width:e,height:t}=n;return(0,r.V_)(e,t)},n=>{let{theme:e}=n;return"3px dashed ".concat(e.components.border)},n=>{let{theme:e}=n;return e.components.border},n=>{let{theme:e,color:t="secondary"}=n;return"3px dashed ".concat(e.components[t])},n=>{let{theme:e,color:t="secondary"}=n;return e.components[t]}),u=n=>{let{title:e,onClick:t,width:a="255px",height:s="255px",color:r="secondary"}=n;return(0,i.jsx)(d,{onClick:t,width:a,height:s,color:r,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"icon",children:(0,i.jsx)(o.J,{name:"Plus"})}),(0,i.jsx)(c.Z.Text,{weight:"semiBold",children:e})]})})};e.Z=u},7100:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return j}});var a=t(5893),i=t(4894),s=t(9294),r=t(9228),c=t(5900),o=t(538),l=t(7294),d=t(6337),u=t(733),m=t(484),h=t(1163),p=t(8742),x=t(4029);class f extends x.Z{constructor(){super({suffix:"api/v1/instagram"}),this.postToConnectInstagram=n=>this.$axios.post("",n)}}let g=new f;var b=t(1420);let{Text:_}=u.Z,w=()=>{let{t:n}=(0,o.$G)("common"),[e,t]=(0,l.useState)(!1),[i,s]=(0,l.useState)([]),u=(0,h.useRouter)(),x=async()=>{try{t(!0);let n=await d.Z.getAccounts();s(n.data),t(!1)}catch(e){t(!1)}},f=n=>{u.push(p.y$.Accounts+"/[id]",p.y$.Accounts+"/"+n.id)},w=async n=>{try{t(!0),await d.Z.deleteAccount(n.id),await x(),t(!1)}catch(e){t(!1)}},j=()=>{try{t(!0),window.FB.login(async n=>{if(n.authResponse){let e={facebook_user_id:n.authResponse.userID,facebook_user_token:n.authResponse.accessToken};await g.postToConnectInstagram(e),await x(),t(!1)}else t(!1)},{scope:"public_profile,email,pages_show_list,pages_manage_metadata,pages_read_engagement,instagram_manage_messages,instagram_basic"})}catch(n){t(!1)}};return(0,l.useEffect)(()=>{x()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.Z,{loading:e}),(0,a.jsxs)("div",{className:"flex flex-wrap",children:[(0,a.jsx)("div",{className:"basis-1/6 m-3 ",children:(0,a.jsx)(m.Z,{onClick:j,title:n("add-new-account")})}),null==i?void 0:i.map(e=>(0,a.jsx)("div",{className:"basis-1/6 m-3",children:(0,a.jsx)(r.n,{data:e,avatar:(0,a.jsx)(c.q,{url:e.profile_image,size:6,type:"image",icon:p.t4[e.platform]}),width:"255px",height:"255px",click:f,clickColor:"secondary",clickLabel:n("details"),remove:w,children:(0,a.jsxs)(_,{weight:"semiBold",children:[" ",e.username," "]})})},e.id))]})]})};var j=w;w.getLayout=n=>(0,a.jsx)(i.c,{topMenu:s.rR,meta:{title:"Accounts"},children:n})}},function(n){n.O(0,[32,876,380,774,888,179],function(){return n(n.s=2839)}),_N_E=n.O()}]);